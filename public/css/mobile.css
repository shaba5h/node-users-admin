/**
 * Mobile Responsive Styles
 * Adaptive design for mobile devices
 */

/* ===== MOBILE BREAKPOINTS ===== */
/* Mobile First Approach */
/* xs: 0-479px (small phones) */
/* sm: 480-767px (phones) */
/* md: 768-1023px (tablets) */
/* lg: 1024px+ (desktop) */

/* ===== DESKTOP STYLES ===== */
/* Hide mobile elements on desktop */
@media (min-width: 769px) {
	.users-mobile-cards,
	.filters-toggle {
		display: none !important;
	}

	.filters-content {
		display: block !important;
	}

	.header-nav {
		display: flex !important;
	}
}

/* ===== USERS TABLE MOBILE STYLES ===== */
@media (max-width: 768px) {
	/* Hide table on mobile and show card layout */
	.users-table-container .table-responsive {
		display: none;
	}

	/* Mobile cards container */
	.users-mobile-cards {
		display: block;
		gap: var(--spacing-4);
	}

	/* Individual user card */
	.user-card {
		background: var(--white);
		border: 1px solid var(--gray-200);
		border-radius: var(--radius-lg);
		padding: var(--spacing-4);
		margin-bottom: var(--spacing-4);
		box-shadow: var(--shadow-sm);
		transition: all 0.2s ease;
	}

	.user-card:hover {
		box-shadow: var(--shadow-md);
		border-color: var(--primary-color);
	}

	/* User card header */
	.user-card-header {
		display: flex;
		align-items: center;
		gap: var(--spacing-3);
		margin-bottom: var(--spacing-3);
		padding-bottom: var(--spacing-3);
		border-bottom: 1px solid var(--gray-100);
	}

	.user-card-avatar {
		width: 48px;
		height: 48px;
		min-width: 48px;
		min-height: 48px;
		background: var(--primary-lighter);
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		color: var(--primary-color);
		font-size: 1.5rem;
		flex-shrink: 0;
	}

	.user-card-info {
		flex: 1;
	}

	.user-card-username {
		font-weight: 600;
		color: var(--gray-900);
		font-size: var(--text-lg);
		margin: 0;
	}

	.user-card-name {
		color: var(--gray-600);
		font-size: var(--text-sm);
		margin: 0;
	}

	/* User card details */
	.user-card-details {
		display: grid;
		grid-template-columns: 1fr 1fr;
		gap: var(--spacing-3);
		margin-bottom: var(--spacing-4);
	}

	.user-card-detail {
		display: flex;
		flex-direction: column;
		gap: var(--spacing-1);
	}

	.user-card-detail-label {
		font-size: var(--text-xs);
		font-weight: 500;
		color: var(--gray-500);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	.user-card-detail-value {
		font-size: var(--text-sm);
		color: var(--gray-900);
		font-weight: 500;
	}

	/* Gender badge in mobile */
	.user-card .gender-badge {
		display: inline-flex;
		align-items: center;
		gap: var(--spacing-1);
		padding: var(--spacing-1) var(--spacing-2);
		border-radius: var(--radius);
		font-size: var(--text-xs);
		font-weight: 500;
	}

	.user-card .gender-badge.gender-male {
		background: var(--info-lighter);
		color: var(--info-dark);
	}

	.user-card .gender-badge.gender-female {
		background: var(--danger-lighter);
		color: var(--danger-dark);
	}

	.user-card .gender-badge.gender-other {
		background: var(--warning-lighter);
		color: var(--warning-dark);
	}

	/* User card actions */
	.user-card-actions {
		display: flex;
		gap: var(--spacing-2);
		justify-content: flex-end;
		padding-top: var(--spacing-3);
		border-top: 1px solid var(--gray-100);
	}

	.user-card-actions .btn {
		padding: var(--spacing-2) var(--spacing-3);
		font-size: var(--text-sm);
		border-radius: var(--radius);
		display: flex;
		align-items: center;
		gap: var(--spacing-1);
	}
}

/* ===== FILTERS MOBILE STYLES ===== */
@media (max-width: 768px) {
	.users-filters {
		margin-bottom: var(--spacing-4);
	}

	.filters-card {
		border-radius: var(--radius-lg);
		overflow: hidden;
	}

	/* Mobile filter toggle */
	.filters-toggle {
		display: flex;
		align-items: center;
		justify-content: space-between;
		padding: var(--spacing-4);
		background: var(--primary-color);
		color: var(--white);
		cursor: pointer;
		border: none;
		width: 100%;
		font-size: var(--text-base);
		font-weight: 500;
	}

	.filters-toggle:hover {
		background: var(--primary-dark);
	}

	.filters-toggle i {
		transition: transform 0.2s ease;
	}

	.filters-toggle.collapsed i {
		transform: rotate(180deg);
	}

	/* Collapsible filters content */
	.filters-content {
		max-height: 0;
		overflow: hidden;
		transition: max-height 0.3s ease;
	}

	.filters-content.expanded {
		max-height: 1000px;
	}

	.users-filters .filters-form {
		padding: var(--spacing-4);
	}

	.users-filters .filters-form .filters-row {
		flex-direction: column;
		gap: var(--spacing-4);
	}

	.users-filters .filter-group {
		width: 100%;
	}

	.users-filters .filter-label {
		display: flex;
		align-items: center;
		gap: var(--spacing-2);
		margin-bottom: var(--spacing-2);
		font-weight: 500;
		color: var(--gray-700);
	}

	.users-filters .form-control {
		width: 100%;
		padding: var(--spacing-3);
		border-radius: var(--radius);
		border: 1px solid var(--gray-300);
		font-size: 16px; /* Prevents zoom on iOS */
	}

	.users-filters .filter-actions {
		flex-direction: column;
		gap: var(--spacing-3);
		margin-top: var(--spacing-2);
	}

	.users-filters .filter-actions .btn {
		width: 100%;
		justify-content: center;
		padding: var(--spacing-3) var(--spacing-4);
		font-size: var(--text-base);
		border-radius: var(--radius);
	}
}

/* ===== PAGINATION MOBILE STYLES ===== */
@media (max-width: 768px) {
	.pagination-container {
		padding: var(--spacing-4) var(--spacing-2);
	}

	.pagination {
		flex-wrap: wrap;
		justify-content: center;
		gap: var(--spacing-1);
	}

	.pagination .page-item {
		margin: 0;
	}

	.pagination .page-link {
		padding: var(--spacing-2);
		min-width: 40px;
		font-size: var(--text-sm);
	}

	/* Hide some pagination items on very small screens */
	@media (max-width: 480px) {
		.pagination .page-item:not(.active):not(.page-prev):not(.page-next) {
			display: none;
		}

		.pagination .page-item.active,
		.pagination .page-item.page-prev,
		.pagination .page-item.page-next {
			display: block;
		}
	}
}

/* ===== GENERAL MOBILE STYLES ===== */
@media (max-width: 768px) {
	/* Container adjustments */
	.users-container {
		padding: var(--spacing-2);
	}

	/* Card adjustments */
	.filters-card,
	.table-card {
		border-radius: var(--radius-lg);
		margin-bottom: var(--spacing-4);
	}

	/* Table header mobile */
	.table-header {
		padding: var(--spacing-4);
		text-align: center;
	}

	.table-title {
		font-size: var(--text-xl);
	}

	/* Empty state mobile */
	.empty-state {
		padding: var(--spacing-8) var(--spacing-4);
		text-align: center;
	}

	.empty-icon {
		font-size: 3rem;
		margin-bottom: var(--spacing-4);
	}

	.empty-actions {
		flex-direction: column;
		gap: var(--spacing-2);
		align-items: stretch;
	}

	.empty-actions .btn {
		width: 100%;
		justify-content: center;
	}
}

/* ===== MODAL MOBILE STYLES ===== */
@media (max-width: 768px) {
	.modal-content {
		margin: var(--spacing-4);
		max-width: calc(100vw - 2rem);
		border-radius: var(--radius-lg);
	}

	.modal-header,
	.modal-body,
	.modal-footer {
		padding: var(--spacing-4);
	}

	.modal-footer {
		flex-direction: column;
		gap: var(--spacing-2);
	}

	.modal-footer .btn {
		width: 100%;
		justify-content: center;
	}
}

/* ===== HEADER MOBILE STYLES ===== */
@media (max-width: 768px) {
	.main-header {
		position: sticky;
		top: 0;
		z-index: 1000;
		background: var(--white);
		border-bottom: 1px solid var(--gray-200);
		box-shadow: var(--shadow-sm);
	}

	.header-container {
		padding: var(--spacing-3) var(--spacing-4);
		display: flex;
		align-items: center;
		justify-content: space-between;
	}

	/* Brand adjustments */
	.header-brand .brand-text {
		font-size: var(--text-lg);
		font-weight: 600;
	}

	.header-brand .brand-icon {
		font-size: var(--text-xl);
	}

	/* Hide navigation on mobile */
	.header-nav {
		display: none;
	}

	/* Mobile user menu */
	.header-user .user-menu-toggle {
		padding: var(--spacing-2) var(--spacing-3);
		border-radius: var(--radius);
		background: var(--gray-50);
		border: 1px solid var(--gray-200);
		display: flex;
		align-items: center;
		gap: var(--spacing-2);
		font-size: var(--text-sm);
	}

	.header-user .user-name {
		display: none; /* Hide username on small screens */
	}
}

/* ===== LAYOUT MOBILE STYLES ===== */
@media (max-width: 768px) {
	.main-wrapper {
		flex-direction: column;
	}

	.main-content {
		margin-left: 0 !important;
		padding: var(--spacing-2);
		width: 100%;
	}

	/* Page header mobile */
	.page-header {
		padding: var(--spacing-4) 0;
		text-align: center;
	}

	.page-title {
		font-size: var(--text-2xl);
		margin-bottom: var(--spacing-2);
	}

	.page-subtitle {
		font-size: var(--text-sm);
		color: var(--gray-600);
	}

	/* Breadcrumbs mobile */
	.breadcrumbs {
		padding: var(--spacing-2) 0;
		font-size: var(--text-sm);
	}

	.breadcrumbs .breadcrumb-item {
		display: inline-flex;
		align-items: center;
	}

	.breadcrumbs .breadcrumb-separator {
		margin: 0 var(--spacing-1);
	}
}

/* ===== FLASH MESSAGES MOBILE ===== */
@media (max-width: 768px) {
	.flash-messages {
		margin: var(--spacing-2) 0;
	}

	.flash-message {
		padding: var(--spacing-3);
		border-radius: var(--radius);
		margin-bottom: var(--spacing-2);
		font-size: var(--text-sm);
	}

	.flash-message .flash-icon {
		font-size: var(--text-base);
	}

	.flash-message .flash-close {
		padding: var(--spacing-1);
		min-width: 32px;
		min-height: 32px;
	}
}

/* ===== TOUCH IMPROVEMENTS ===== */
@media (max-width: 768px) {
	/* Breadcrumbs wrap on small screens */
	.breadcrumbs {
		flex-wrap: wrap;
	}
	/* Larger touch targets */
	.btn {
		min-height: 44px;
		padding: var(--spacing-3) var(--spacing-4);
	}

	.form-control {
		min-height: 44px;
		padding: var(--spacing-3);
		font-size: 16px; /* Prevents zoom on iOS */
	}

	/* Better tap highlights */
	.user-card,
	.btn,
	.page-link,
	.user-menu-toggle,
	.mobile-menu-toggle {
		-webkit-tap-highlight-color: rgba(59, 130, 246, 0.1);
	}

	/* Better form spacing */
	.form-group {
		margin-bottom: var(--spacing-4);
	}

	.form-label {
		margin-bottom: var(--spacing-2);
		font-weight: 500;
	}
}

/* ===== RESPONSIVE UTILITIES ===== */
@media (max-width: 768px) {
	/* Hide elements on mobile */
	.d-md-none {
		display: block !important;
	}

	.d-none-mobile {
		display: none !important;
	}

	/* Text alignment */
	.text-center-mobile {
		text-align: center !important;
	}

	/* Spacing utilities */
	.p-mobile {
		padding: var(--spacing-4) !important;
	}

	.px-mobile {
		padding-left: var(--spacing-4) !important;
		padding-right: var(--spacing-4) !important;
	}

	.py-mobile {
		padding-top: var(--spacing-4) !important;
		padding-bottom: var(--spacing-4) !important;
	}

	.m-mobile {
		margin: var(--spacing-4) !important;
	}

	.mx-mobile {
		margin-left: var(--spacing-4) !important;
		margin-right: var(--spacing-4) !important;
	}

	.my-mobile {
		margin-top: var(--spacing-4) !important;
		margin-bottom: var(--spacing-4) !important;
	}
}

/* ===== MODAL MOBILE STYLES ===== */
@media (max-width: 768px) {
	.modal {
		padding: var(--spacing-4);
	}

	.modal-dialog {
		margin: 0;
		max-width: 100%;
		width: 100%;
		height: auto;
		max-height: 90vh;
	}

	.modal-content {
		border-radius: var(--radius-lg);
		max-height: 90vh;
		overflow-y: auto;
	}

	.modal-header {
		padding: var(--spacing-4);
		border-bottom: 1px solid var(--gray-200);
	}

	.modal-body {
		padding: var(--spacing-4);
		max-height: 60vh;
		overflow-y: auto;
	}

	.modal-footer {
		padding: var(--spacing-4);
		border-top: 1px solid var(--gray-200);
		flex-direction: column;
		gap: var(--spacing-2);
	}

	.modal-footer .btn {
		width: 100%;
		margin: 0;
	}

	.modal-title {
		font-size: var(--text-lg);
	}
}

/* ===== FORM MOBILE STYLES ===== */
@media (max-width: 768px) {
	.form-row {
		flex-direction: column;
		gap: var(--spacing-3);
	}

	.form-col {
		width: 100% !important;
		flex: none;
	}

	.input-group {
		flex-direction: column;
		gap: var(--spacing-2);
	}

	.input-group .form-control {
		border-radius: var(--radius);
	}

	.input-group .btn {
		border-radius: var(--radius);
		width: 100%;
	}

	/* Select dropdowns */
	.form-select {
		min-height: 44px;
		padding: var(--spacing-3);
		font-size: 16px;
		background-size: 16px;
		background-position: right var(--spacing-3) center;
	}

	/* Checkbox and radio improvements */
	.form-check {
		padding-left: var(--spacing-6);
		margin-bottom: var(--spacing-3);
	}

	.form-check-input {
		width: 20px;
		height: 20px;
		margin-left: calc(-1 * var(--spacing-6));
		margin-top: 2px;
	}

	.form-check-label {
		font-size: var(--text-base);
		line-height: 1.5;
	}
}

/* ===== TABLE MOBILE FALLBACK ===== */
@media (max-width: 768px) {
	/* Hide table headers and make table responsive */
	.table-responsive {
		border: none;
		overflow-x: auto;
		-webkit-overflow-scrolling: touch;
	}

	.table {
		font-size: var(--text-sm);
		margin-bottom: 0;
	}

	.table th,
	.table td {
		padding: var(--spacing-2);
		white-space: nowrap;
	}

	.table th {
		font-size: var(--text-xs);
		text-transform: uppercase;
		letter-spacing: 0.05em;
	}

	/* Action buttons in table */
	.table .btn {
		padding: var(--spacing-1) var(--spacing-2);
		font-size: var(--text-xs);
		min-height: auto;
	}

	.table .btn-group {
		display: flex;
		gap: var(--spacing-1);
	}
}

/* ===== BUTTON MOBILE STYLES ===== */
@media (max-width: 768px) {
	/* Empty state actions */
	.empty-state .btn {
		width: 100%;
		margin-bottom: var(--spacing-2);
		justify-content: center;
	}

	.empty-state .btn:last-child {
		margin-bottom: 0;
	}
}

/* ===== VERY SMALL SCREENS ===== */
@media (max-width: 480px) {
	.main-content {
		padding: var(--spacing-1);
	}

	.users-container {
		padding: var(--spacing-1);
	}

	.user-card {
		padding: var(--spacing-3);
		margin-bottom: var(--spacing-3);
	}

	.user-card-actions {
		flex-direction: column;
		gap: var(--spacing-2);
	}

	.user-card-actions .btn {
		width: 100%;
		justify-content: center;
	}

	.user-card-avatar {
		width: 40px;
		height: 40px;
		min-width: 40px;
		min-height: 40px;
		font-size: 1.25rem;
	}

	.filters-toggle {
		padding: var(--spacing-3);
		font-size: var(--text-sm);
	}

	.page-title {
		font-size: var(--text-xl);
	}

	.modal-dialog {
		padding: var(--spacing-2);
	}

	.modal-content {
		border-radius: var(--radius);
	}
}
